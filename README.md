# Weather Dashboard

A modern, immersive weather dashboard with dynamic AI-generated backgrounds that change based on weather conditions and time of day.

## Features

- **Real-time Weather Data**: Display current weather conditions and forecasts
- **AI-Generated Backgrounds**: Dynamic backgrounds generated by DALL-E based on weather conditions
- **Voice Control**: Interact with the dashboard using natural language
- **User Settings**: Customize your location and preferences
- **Responsive Design**: Works on desktop and mobile devices

## Dynamic AI-Generated Backgrounds

This dashboard now features real-time background generation powered by AI! The system automatically creates photorealistic weather backgrounds based on:

- Current location
- Weather conditions
- Time of day

Simply click the refresh icon in the top-right corner to generate a new background image that accurately represents the current weather and lighting conditions.

### Technical Details

The background generation uses OpenAI's DALL-E 3 model to create high-resolution (1792x1024) landscape images. The system automatically constructs a prompt based on your current location, weather, and time.

## Manual Background Images (Alternative)

If you prefer to use your own background images instead of the AI generation, you can add weather-specific background images to the `client/src/assets` directory. Follow this naming convention:

```
[weather_condition]_[time_of_day].png
```

Required images:

- `clear_day.png` - Clear sky during daytime
- `clear_night.png` - Clear sky during nighttime
- `cloudy_day.png` - Cloudy conditions during daytime
- `cloudy_night.png` - Cloudy conditions during nighttime
- `rain_day.png` - Rainy conditions during daytime
- `rain_night.png` - Rainy conditions during nighttime
- `stormy_day.png` - Stormy conditions during daytime
- `stormy_night.png` - Stormy conditions during nighttime
- `snow_day.png` - Snowy conditions during daytime
- `snow_night.png` - Snowy conditions during nighttime

These images should be high-quality, full-bleed photos suitable for a background (at least 1920x1080 recommended).

Currently, we have:

- `dark_cloudy_evening.png` - Default fallback image
- `warm_sunrise.png` - Clear morning conditions
- `warm_sunset.png` - Clear evening conditions

## User Settings

The dashboard includes a settings panel that allows users to:
- Set their preferred location for weather data
- Settings are automatically saved and persisted between sessions

To access the settings panel, click the gear icon in the top-right corner of the dashboard.

## Installation and Usage

1. Clone the repository
2. Install dependencies: `npm install`
3. Set up your OpenAI API key using our setup script:

   ```bash
   npm run setup
   ```
   
   This interactive script will create a proper `.env` file in the project root and guide you through entering your API key.

   **OR manually create a `.env` file:**
   
   Create a new file named exactly `.env` (not `.env.txt` or anything else) in the project root and add:
   ```
   OPENAI_API_KEY=sk-your-api-key-here
   ```
   Replace `sk-your-api-key-here` with your actual OpenAI API key.
   
   **OR set the environment variable directly:**

   Windows PowerShell:
   ```powershell
   $env:OPENAI_API_KEY="your_api_key_here"
   ```

   Linux/macOS:
   ```bash
   export OPENAI_API_KEY="your_api_key_here"
   ```

4. Start the development server: `npm run dev`
5. Click the refresh icon to generate a new background image

## Troubleshooting

- **Missing API Key Error**: If you see an error about a missing or invalid API key, make sure you've properly set up your OpenAI API key as described in the installation steps.
  
- **Fallback Backgrounds**: The dashboard will automatically use attractive gradient backgrounds when AI-generated images are unavailable (e.g., if there's no API key or if there's a network issue).

- **ES Module Issues**: This project uses ES modules. If you're adding custom scripts, make sure to use ES module syntax (`import` instead of `require`) and use `import.meta.url` with `fileURLToPath` instead of `__dirname`.

## Technologies Used

- React
- TypeScript 
- Tailwind CSS
- Lucide Icons
- OpenAI API (DALL-E 3)

## License

MIT 

## Docker Development

To start both frontend and backend with hot-reloading:

```
docker-compose up --build
```

- Frontend (Vite/React) runs on [http://localhost:5173](http://localhost:5173)
- Backend (Express/TypeScript) runs on [http://localhost:5173/api] (proxied or on the same port)

Edits to frontend or backend code will trigger hot-reloading. 